<template name="username">
	
	<section class="rc-old full-page color-tertiary-font-color" style="flex-direction: column;justify-content: center;align-items: center">
		<header style='margin:0'>
			<div class="logo" href="/">
				<img src="{{logoUrl}}" />
			</div>
		</header>
		<div class="wrapper" style='margin:0'>
			<form id="login-card" class="content-background-color color-primary-font-color" method='/'>
				{{#if username.blocked}}
					<div class="alert error-color error-background error-border">
						{{{_ "error-blocked-username" field=username.escaped}}}
					</div>
				{{/if}}
				{{#if username.unavailable}}
					<div class="alert error-color error-background error-border">
						{{{_ "error-field-unavailable" field=username.escaped}}}
					</div>
				{{/if}}
				{{#if username.invalid}}
					<div class="alert error-color error-background error-border">
						{{{_ "Username_invalid" username.escaped}}}
					</div>
				{{/if}}
				{{#if username.empty}}
					<div class="alert error-color error-background error-border">
						{{{_ "Username_cant_be_empty"}}}
					</div>
				{{/if}}
				<div class="fields">
					<div class='input-text' style='margin-bottom:40px'>
						{{#if username.ready}}
							<span>
								<input type="text" name='username' id="username" value="{{username.username}}" dir="auto" class="rc-input__element" placeholder="{{_ 'Username'}}"/>
							</span>
							<i></i>
						{{else}}
							{{_ "Loading_suggestion"}}
						{{/if}}
					</div>
				</div>

        {{>customFieldsForm}}
				{{#if username.ready}}
					<div class="rc-button__group rc-button__group--vertical">
						{{#if active}}
							<button type="login" class='rc-button rc-button--primary login'>{{_ "Go_login"}}</button>
						{{else}}
							<button data-loading-text="{{_ " Please_wait "}}..." class='rc-button rc-button--primary login'>{{_
								"Use_this_username_active"}}</button>
						{{/if}}
					</div>
				{{/if}}
			</form>
		</div>
	</section>
</template>
